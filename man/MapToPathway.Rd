% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/MapToPathway.R
\name{MapToPathway}
\alias{MapToPathway}
\title{Map Metabolites to Corresponding Pathways}
\usage{
MapToPathway(metab_results, match_by = "HMDB_ID", alt_pwy_map = NULL)
}
\arguments{
\item{metab_results}{A data frame output from MetabAnalysis.
Metabolite identifiers must be in the **row names**.
Sample columns contain classifications ("Low", "Normal", "High", "Missing Reference").}

\item{match_by}{A character string specifying the identifier type used in the
row names (and the pathway map). Can be "HMDB_ID" (default) or "Metabolite_Name".}

\item{alt_pwy_map}{Optional for alternative metabolite mapping. Demonstrated in example.}
}
\value{
A data frame summarizing the activity for each pathway and sample,
       with columns: Sample_ID, Pathway_Name, Net_Score, Metabolites_Affected, and Activity_Status.
       "Low" from metab_results will be considered as -1 Net score, and "High"
       will be +1. Missing and Normal will simply be +0. The more metabolites
       expressed in that pathway, the more active it is.
}
\description{
Maps the classification results from MetabAnalysis to metabolic pathways and
determines the pathway's overall activity level (Hypoactive, Normal, or Hyperactive).
}
\details{
This function enforces the use of the default metabolite-to-pathway
map ('metab_to_pwys') loaded internally. It assumes that metabolite identifiers
(HMDB_ID or Metabolite_Name) are stored in the **row names** of the 'metab_results'
 data frame, not in an explicit column.
}
\examples{
\dontrun{
# Mock data
metab_to_pwys <- data.frame(
Metabolite_Name = c("Glucose", "Fructose", "Lactate", "Pyruvate",
                   "Cholesterol", "Leucine", "Valine", "Isoleucine",
                   "Tryptophan", "Serotonin"),
HMDB_ID = c("HMDB00001", "HMDB00002", "HMDB00003", "HMDB00004",
           "HMDB00005", "HMDB00006", "HMDB00007", "HMDB00008",
           "HMDB00009", "HMDB00010"),
Pathway_Name = c("Glycolysis", "Glycolysis", "Energy Metabolism",
                "Energy Metabolism", "Lipid Metabolism", "BCAA Metabolism",
                "BCAA Metabolism", "BCAA Metabolism", "Serotonin Synthesis",
                "Serotonin Synthesis"), stringsAsFactors = FALSE)

# Assign the object to the global environment, so the internal helper function
# can find it (simulating loaded package data).
assign("metab_to_pwys", metab_to_pwys, envir = .GlobalEnv)

# Create input data where metabolite names are in the row names, simulating
# the typical output from metab_results.
metabolites <- c("Glucose", "Fructose", "Lactate", "Pyruvate",
                "Cholesterol", "Leucine", "Valine", "Isoleucine",
                "Tryptophan", "Serotonin", "Unmapped Metabolite")

metab_results <- data.frame(
  Sample1 = c("Low", "Low", "High", "High", "Normal", "High", "Normal",
    "High", "Low", "Normal", "High"),
  Sample2 = c("High", "Low", "Normal", "High", "Low", "Normal", "High",
    "High", "Normal", "Low", "Low"),
  Sample3 = c("Normal", "Low", "High", "Normal", "Low", "Normal", "Normal",
    "High", "High", "High", "Normal"),
  stringsAsFactors = FALSE)

# Assign metabolite names as row names directly, as required by the function
rownames(metab_results) <- metabolites

# Run the function
result <- MapToPathway(metab_results, match_by = "Metabolite_Name")

}

}
\references{
\strong{HMDB Metabolite Reference Data}:
Wishart, D. S., et al. (2022). HMDB 5.0: The Human Metabolome Database for 2022.
Nucleic Acids Research, 50(D1), D1-D10. Retrieved from \href{https://hmdb.ca/}{HMDB}.

\strong{Debugging Assistance:}
Google. (2025). Gemini (v 2.0 Flash) [Large language model]. \href{https://gemini.google.com}{Gemini}
}
\author{
Yunze Du, \email{yunze.du@mail.utoronto.ca}
}
